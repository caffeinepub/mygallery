{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Do not change any other app behavior/features while fixing the mission task toggle bug (minimal, targeted fix only)."
  ],
  "known_issues": [
    "Bug in mission flow: after returning to a mission and adding a new task, toggling task completion (complete/uncomplete) does not update immediately and may affect other tasks; mission should update instantly without impacting other tasks."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-fix-the-mission-task-completion-toggle-bug-that-occurs-after-a-user-re-enters-an-existing-mission-and-then-adds-a-new-task-checking-unchecking-any-task-must-update-immediately-in-the-ui-must-only-affect-the-intended-task-and-must-immediately-update-mission-progress-without-requiring-navigation-or-refresh",
      "title": "Fix the Mission task completion toggle bug that occurs after a user re-enters an existing mission and then adds a new task: checking/unchecking any task must update immediately in the UI, must only affect the intended task, and must immediately update mission progress, without requiring navigation or refresh.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-react-query-mission-caches-remain-consistent-after-add-task-and-toggle-task-mutations-including-the-mission-detail-cache-missions-detail-missionid-and-the-mission-list-cache-missions-list-so-the-mission-view-reflects-the-latest-task-states-immediately-and-reliably",
      "title": "Ensure React Query mission caches remain consistent after add-task and toggle-task mutations, including the mission detail cache (['missions','detail', missionId]) and the mission list cache (['missions','list']), so the mission view reflects the latest task states immediately and reliably.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-mission-autosave-usemissionautosave-from-overwriting-or-reverting-task-completion-state-during-after-add-task-and-toggle-task-flows-especially-around-the-transition-from-an-optimistic-newly-added-task-to-the-real-backend-task-so-no-task-states-are-lost-or-applied-to-the-wrong-task",
      "title": "Prevent Mission autosave (useMissionAutosave) from overwriting or reverting task completion state during/after add-task and toggle-task flows, especially around the transition from an optimistic newly-added task to the real backend task, so no task states are lost or applied to the wrong task.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "projectName": "Fix Mission task toggle bug after re-entering a mission and adding a new task",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}