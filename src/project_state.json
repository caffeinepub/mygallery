{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Scope constraint: apply changes only within Mission functionality; do not alter other app features."
  ],
  "known_issues": [
    "Mission: user clicks to complete tasks do not update immediately/correctly; requires fix for instant, correct UI/state update."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-fix-the-mission-task-completion-interaction-so-that-when-a-user-clicks-a-task-checkbox-in-missiondetailfullscreenview-the-ui-updates-immediately-and-consistently-reflects-the-new-completion-state-without-requiring-extra-clicks-or-waiting-for-a-refetch",
      "title": "Fix the mission task completion interaction so that when a user clicks a task checkbox in MissionDetailFullScreenView, the UI updates immediately and consistently reflects the new completion state without requiring extra clicks or waiting for a refetch.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-react-query-cache-updates-for-task-completion-are-applied-immediately-and-correctly-for-missions-by-updating-the-relevant-mission-caches-in-usetoggletaskcompletion-at-minimum-the-mission-detail-cache-and-also-the-missions-list-cache-if-it-displays-task-completion-progress-so-progress-task-counts-stay-in-sync-without-waiting-for-invalidation-refetch",
      "title": "Ensure React Query cache updates for task completion are applied immediately and correctly for missions by updating the relevant mission caches in useToggleTaskCompletion (at minimum the mission detail cache, and also the missions list cache if it displays task completion/progress), so progress/task counts stay in sync without waiting for invalidation/refetch.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-mission-autosave-baseline-synchronization-in-missiondetailfullscreenview-so-that-after-task-add-toggle-mutations-the-autosave-baseline-is-synced-using-the-latest-task-state-from-the-react-query-cache-or-mutation-result-avoiding-stale-closures-that-can-cause-incorrect-follow-up-saves-or-inconsistent-ui-behavior",
      "title": "Adjust mission autosave baseline synchronization in MissionDetailFullScreenView so that after task add/toggle mutations, the autosave baseline is synced using the latest task state (from the React Query cache or mutation result), avoiding stale closures that can cause incorrect follow-up saves or inconsistent UI behavior.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "projectName": "Fix mission task completion clicks to update immediately and correctly",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}