{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Add inline in-app document preview so common files (PDF/Word/Excel/etc.) open directly inside the React app without downloading or launching external apps, while keeping existing UI/logic unchanged.",
  "architectural_notes": [],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-when-a-user-taps-clicks-a-file-that-is-a-common-document-type-at-minimum-pdf-word-excel-powerpoint-i-e-the-mime-types-currently-categorized-as-pdf-and-office-in-frontend-src-utils-filepreview-ts-open-the-file-for-reading-inside-the-app-via-an-inline-preview-e-g-iframe-embed-viewer-instead-of-triggering-a-download-or-navigating-away-from-the-app-opening-an-external-native-app",
      "title": "When a user taps/clicks a file that is a common document type (at minimum: PDF, Word, Excel, PowerPoint; i.e., the MIME types currently categorized as `pdf` and `office` in `frontend/src/utils/filePreview.ts`), open the file for reading inside the app via an inline preview (e.g., iframe/embed/viewer) instead of triggering a download or navigating away from the app / opening an external/native app.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-existing-in-app-viewers-so-that-document-previews-are-rendered-inline-consistently-wherever-files-are-previewed-at-minimum-fullscreenviewer-and-filepreviewdialog-specifically-office-documents-must-no-longer-show-an-open-in-app-external-only-ui-they-must-render-an-inline-preview-instead",
      "title": "Update the existing in-app viewers so that document previews are rendered inline consistently wherever files are previewed (at minimum: `FullScreenViewer` and `FilePreviewDialog`). Specifically, Office documents must no longer show an “Open in app”/external-only UI; they must render an inline preview instead.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-file-click-open-decision-logic-so-that-the-default-click-action-for-common-document-types-is-always-the-in-app-inline-preview-not-auto-download-this-must-apply-from-the-gallery-list-grid-click-behavior-e-g-the-logic-in-frontend-src-components-gallerysection-tsx-using-shoulddownloaddirectly-shouldopeninviewer",
      "title": "Change the file click/open decision logic so that the default click action for common document types is always the in-app inline preview (not auto-download). This must apply from the gallery list/grid click behavior (e.g., the logic in `frontend/src/components/GallerySection.tsx` using `shouldDownloadDirectly` / `shouldOpenInViewer`).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-preserve-the-existing-ui-layout-navigation-and-all-non-file-opening-functionality-the-only-behavior-change-should-be-that-supported-documents-open-via-inline-preview-inside-the-app-rather-than-downloading-or-opening-externally",
      "title": "Preserve the existing UI layout, navigation, and all non-file-opening functionality; the only behavior change should be that supported documents open via inline preview inside the app rather than downloading or opening externally.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Inline in-app preview for common documents (PDF, Word, Excel, etc.) in React; no download and no external app; keep existing UI/logic unchanged.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "MyGallery",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}