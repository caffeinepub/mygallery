{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Make MYL installable as an Android Chrome PWA (manifest + service worker + standalone)",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Update the web app manifest to MYL branding and include exactly 192x192 and 512x512 PNG icons using the generated bullseye assets.",
      "acceptanceCriteria": [
        "`/manifest.json` loads without errors in Chrome DevTools → Application → Manifest.",
        "Manifest shows: Name=MYL, Short name=MYL, Background color=#ffffff, Theme color=#6A0DAD, Display=standalone.",
        "Manifest includes at least one 192x192 PNG icon and one 512x512 PNG icon that load successfully (no 404)."
      ],
      "file_operations": [
        {
          "path": "frontend/public/manifest.json",
          "operation": "modify",
          "description": "Update manifest fields to MYL branding: set name/short_name to \"MYL\", background_color to \"#ffffff\", theme_color to \"#6A0DAD\", display to \"standalone\"; replace the icons array so it contains exactly two valid PNG entries (192x192 and 512x512) pointing to frontend/public/assets/generated/myl-bullseye-icon.dim_192x192.png and frontend/public/assets/generated/myl-bullseye-icon.dim_512x512.png."
        },
        {
          "path": "frontend/public/assets/generated/myl-bullseye-icon.dim_192x192.png",
          "operation": "create",
          "description": "Add the generated MYL bullseye icon asset (192x192) at this exact path so the manifest icon URL resolves successfully."
        },
        {
          "path": "frontend/public/assets/generated/myl-bullseye-icon.dim_512x512.png",
          "operation": "create",
          "description": "Add the generated MYL bullseye icon asset (512x512) at this exact path so the manifest icon URL resolves successfully."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Align index.html PWA meta tags (theme color and app name) and ensure the manifest link remains correct.",
      "acceptanceCriteria": [
        "Chrome DevTools → Application → Manifest reflects the updated theme color and app name metadata without warnings caused by missing/invalid manifest linkage.",
        "The HTML document contains a manifest link to `/manifest.json` and a theme-color meta tag set to `#6A0DAD`."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Update PWA-related tags for MYL: set <meta name=\"theme-color\"> content to \"#6A0DAD\"; set app-name meta tags (apple-mobile-web-app-title, application-name) to \"MYL\"; ensure <link rel=\"manifest\" href=\"/manifest.json\" /> remains present and correct."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Ensure the service worker registers and controls the page after reload, and that sw.js includes an active fetch handler for installability.",
      "acceptanceCriteria": [
        "In Chrome DevTools → Application → Service Workers, `/sw.js` shows as \"activated and is running\".",
        "After a normal reload, `navigator.serviceWorker.controller` is non-null.",
        "The service worker script contains a `self.addEventListener('fetch', ...)` handler."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Review and adjust the existing service worker registration to ensure it reliably registers `/sw.js` only in secure contexts (HTTPS/localhost) and results in the page being controlled after a normal reload (controller becomes non-null). Keep changes limited to installability/registration behavior."
        },
        {
          "path": "frontend/public/sw.js",
          "operation": "modify",
          "description": "Confirm `/sw.js` retains an active `fetch` event handler and claims clients so it can control the page after reload. Keep changes limited to what is necessary for Chrome installability signals."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Ensure installed MYL launches in standalone mode and all Chrome installability signals are satisfied for Android Chrome.",
      "acceptanceCriteria": [
        "When installed on Android Chrome, launching MYL opens without the browser address bar (standalone).",
        "On Android Chrome, the overflow menu includes an install option (e.g., \"Install app\") when visiting the site over HTTPS (or localhost during testing)."
      ],
      "file_operations": [
        {
          "path": "frontend/public/manifest.json",
          "operation": "modify",
          "description": "Double-check manifest installability-critical fields are set for standalone install behavior (display=\"standalone\", start_url and scope appropriate for launching) while keeping the MYL branding values from REQ-1."
        },
        {
          "path": "frontend/PWA_INSTALLABILITY_NOTES.md",
          "operation": "modify",
          "description": "Update the installability verification notes to reference MYL (name/theme color) and the new icon asset paths (frontend/public/assets/generated/myl-bullseye-icon.dim_192x192.png and frontend/public/assets/generated/myl-bullseye-icon.dim_512x512.png), focusing on Android Chrome standalone/install menu checks."
        }
      ]
    }
  ]
}